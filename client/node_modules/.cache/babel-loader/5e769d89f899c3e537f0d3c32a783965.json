{"ast":null,"code":"import _slicedToArray from\"/Users/Josephine/Documents/Integrify-full-stack/full-stack-4-typescript-men-boilerplate/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useDispatch}from\"react-redux\";import{Link,useHistory}from\"react-router-dom\";import{Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Divider,Paper,TablePagination}from\"@material-ui/core\";import DeleteIcon from\"@material-ui/icons/Delete\";import EditIcon from\"@material-ui/icons/Edit\";import\"./style.ts\";import{deleteProduct}from\"../../redux/actions/products\";import useStyles from\"./style\";import columns from\"../../interfaces/product\";var Products=function Products(_ref){var allProducts=_ref.allProducts;var dispatch=useDispatch();var history=useHistory();// const { searchProduct } = useSelector((state: AppState) => state.products);\nvar _useState=useState(0),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState(20),_useState4=_slicedToArray(_useState3,2),rowsPerPage=_useState4[0],setRowsPerPage=_useState4[1];var classes=useStyles();var handleChangePage=function handleChangePage(event,newPage){setPage(newPage);};var handleChangeRowsPerPage=function handleChangeRowsPerPage(event){setRowsPerPage(+event.target.value);setPage(0);};var handleDeleteClick=function handleDeleteClick(id,name){alert(\"Are you sure you want to delete \".concat(name,\"?\"));dispatch(deleteProduct(id,history));window.location.reload(false);};return/*#__PURE__*/React.createElement(Paper,{className:classes.root},/*#__PURE__*/React.createElement(TableContainer,{className:classes.container},/*#__PURE__*/React.createElement(Table,{\"arial-label\":\"Countries table\"},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,columns.map(function(column){return/*#__PURE__*/React.createElement(TableCell,{key:column.id},column.label);}))),/*#__PURE__*/React.createElement(TableBody,null,allProducts// .filter((product: { name: string }) =>\n//   product.name.includes(searchProduct)\n// )\n.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage).map(function(product){return/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(\"img\",{width:\"100px\",src:product.image,alt:product.name})),/*#__PURE__*/React.createElement(TableCell,null,product.name),/*#__PURE__*/React.createElement(TableCell,null,product.category),/*#__PURE__*/React.createElement(TableCell,null,product.variants),/*#__PURE__*/React.createElement(TableCell,null,product.sizes),product.quantity<1?/*#__PURE__*/React.createElement(TableCell,{style:{color:\"red\"}},\"Out of Stock\"):/*#__PURE__*/React.createElement(TableCell,{style:{color:\"blue\"}},product.quantity),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(DeleteIcon,{onClick:function onClick(){return handleDeleteClick(product._id,product.name);},style:{cursor:\"pointer\",color:\"red\"}})),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(Link,{to:\"/\".concat(product._id),style:{textDecorationColor:\"none\",color:\"green\",cursor:\"pointer\"}},/*#__PURE__*/React.createElement(EditIcon,null))));})),/*#__PURE__*/React.createElement(Divider,null))),/*#__PURE__*/React.createElement(TablePagination,{rowsPerPageOptions:[10,25,100],component:\"div\",count:allProducts.length,rowsPerPage:rowsPerPage,page:page,onChangePage:handleChangePage,onChangeRowsPerPage:handleChangeRowsPerPage}));};export default Products;","map":{"version":3,"sources":["/Users/Josephine/Documents/Integrify-full-stack/full-stack-4-typescript-men-boilerplate/frontend/src/components/Products/Products.tsx"],"names":["React","useState","useDispatch","Link","useHistory","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Divider","Paper","TablePagination","DeleteIcon","EditIcon","deleteProduct","useStyles","columns","Products","allProducts","dispatch","history","page","setPage","rowsPerPage","setRowsPerPage","classes","handleChangePage","event","newPage","handleChangeRowsPerPage","target","value","handleDeleteClick","id","name","alert","window","location","reload","root","container","map","column","label","slice","product","image","category","variants","sizes","quantity","color","_id","cursor","textDecorationColor","length"],"mappings":"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","sourcesContent":["import React, { FC, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Divider,\n  Paper,\n  TablePagination,\n} from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport \"./style.ts\";\nimport { ProductState } from \"../../types\";\nimport { deleteProduct } from \"../../redux/actions/products\";\nimport useStyles from \"./style\";\nimport columns from \"../../interfaces/product\";\n\nconst Products: FC<{ allProducts: ProductState[] }> = ({ allProducts }) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  // const { searchProduct } = useSelector((state: AppState) => state.products);\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(20);\n\n  const classes = useStyles();\n\n  const handleChangePage = (event: unknown, newPage: number) => {\n    setPage(newPage);\n  };\n  const handleChangeRowsPerPage = (\n    event: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n  const handleDeleteClick = (id: string, name: string) => {\n    alert(`Are you sure you want to delete ${name}?`);\n    dispatch(deleteProduct(id, history));\n    window.location.reload(false);\n  };\n\n  return (\n    <Paper className={classes.root}>\n      <TableContainer className={classes.container}>\n        <Table arial-label=\"Countries table\">\n          <TableHead>\n            <TableRow>\n              {columns.map((column) => {\n                return <TableCell key={column.id}>{column.label}</TableCell>;\n              })}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {allProducts\n              // .filter((product: { name: string }) =>\n              //   product.name.includes(searchProduct)\n              // )\n              .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n              .map((product: any) => {\n                return (\n                  <TableRow>\n                    <TableCell>\n                      <img\n                        width=\"100px\"\n                        src={product.image}\n                        alt={product.name}\n                      ></img>\n                    </TableCell>\n                    <TableCell>\n                      {/* <Link\n                        to={`/product/${product.name}`}\n                        className={classes.link}\n                      > */}\n                      {product.name}\n                      {/* </Link> */}\n                    </TableCell>\n\n                    <TableCell>{product.category}</TableCell>\n                    <TableCell>{product.variants}</TableCell>\n                    <TableCell>{product.sizes}</TableCell>\n                    {product.quantity < 1 ? (\n                      <TableCell style={{ color: \"red\" }}>\n                        Out of Stock\n                      </TableCell>\n                    ) : (\n                      <TableCell style={{ color: \"blue\" }}>\n                        {product.quantity}\n                      </TableCell>\n                    )}\n                    <TableCell>\n                      <DeleteIcon\n                        onClick={() =>\n                          handleDeleteClick(product._id, product.name)\n                        }\n                        style={{ cursor: \"pointer\", color: \"red\" }}\n                      />\n                    </TableCell>\n                    <TableCell>\n                      <Link\n                        to={`/${product._id}`}\n                        style={{\n                          textDecorationColor: \"none\",\n                          color: \"green\",\n                          cursor: \"pointer\",\n                        }}\n                      >\n                        <EditIcon />\n                      </Link>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n          </TableBody>\n          <Divider />\n        </Table>\n      </TableContainer>\n      <TablePagination\n        rowsPerPageOptions={[10, 25, 100]}\n        component=\"div\"\n        count={allProducts.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        onChangePage={handleChangePage}\n        onChangeRowsPerPage={handleChangeRowsPerPage}\n      />\n    </Paper>\n  );\n};\n\nexport default Products;\n"]},"metadata":{},"sourceType":"module"}