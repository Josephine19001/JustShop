{"ast":null,"code":"import _toConsumableArray from\"/Users/Josephine/Documents/Integrify-full-stack/full-stack-4-typescript-men-boilerplate/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/Josephine/Documents/Integrify-full-stack/full-stack-4-typescript-men-boilerplate/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{ADD_PRODUCT,INCREASE_QUANTITY,DECREASE_QUANTITY,REMOVE_PRODUCT}from\"../../types\";var initialState={inCart:[]};export default function product(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_PRODUCT:{var _product=action.payload.product;return _objectSpread(_objectSpread({},state),{},{inCart:[].concat(_toConsumableArray(state.inCart),[_product])});}case REMOVE_PRODUCT:{var _product2=action.payload.product;var index=state.inCart.findIndex(function(p){return p.name===_product2.name;});if(index>=0){state.inCart.splice(index,1);return _objectSpread(_objectSpread({},state),{},{inCart:_toConsumableArray(state.inCart)});}return state;}case INCREASE_QUANTITY:{var productId=action.payload.product._id;return _objectSpread(_objectSpread({},state),{},{inCart:state.inCart.map(function(product){return product._id===productId&&product.amountInCart<product.quantity?_objectSpread(_objectSpread({},product),{},{amountInCart:product.amountInCart+1}):product;})});}case DECREASE_QUANTITY:{var _productId=action.payload.product._id;return _objectSpread(_objectSpread({},state),{},{inCart:state.inCart.map(function(product){return product._id===_productId?_objectSpread(_objectSpread({},product),{},{amountInCart:product.amountInCart-1}):product;})});}default:return state;}}","map":{"version":3,"sources":["/Users/Josephine/Documents/Integrify-full-stack/full-stack-4-typescript-men-boilerplate/frontend/src/redux/reducers/cart.ts"],"names":["ADD_PRODUCT","INCREASE_QUANTITY","DECREASE_QUANTITY","REMOVE_PRODUCT","initialState","inCart","product","state","action","type","payload","index","findIndex","p","name","splice","productId","_id","map","amountInCart","quantity"],"mappings":"6WAAA,OAGEA,WAHF,CAIEC,iBAJF,CAKEC,iBALF,CAOEC,cAPF,KASO,aATP,CAWA,GAAMC,CAAAA,YAAuB,CAAG,CAC9BC,MAAM,CAAE,EADsB,CAAhC,CAIA,cAAe,SAASC,CAAAA,OAAT,EAGF,IAFXC,CAAAA,KAEW,2DAFHH,YAEG,IADXI,CAAAA,MACW,2CACX,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKT,CAAAA,WAAL,CAAkB,IACRM,CAAAA,QADQ,CACIE,MAAM,CAACE,OADX,CACRJ,OADQ,CAEhB,sCAAYC,KAAZ,MAAmBF,MAAM,8BAAME,KAAK,CAACF,MAAZ,GAAoBC,QAApB,EAAzB,GACD,CAED,IAAKH,CAAAA,cAAL,CAAqB,IACXG,CAAAA,SADW,CACCE,MAAM,CAACE,OADR,CACXJ,OADW,CAEnB,GAAMK,CAAAA,KAAK,CAAGJ,KAAK,CAACF,MAAN,CAAaO,SAAb,CAAuB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,IAAF,GAAWR,SAAO,CAACQ,IAA1B,EAAvB,CAAd,CACA,GAAIH,KAAK,EAAI,CAAb,CAAgB,CACdJ,KAAK,CAACF,MAAN,CAAaU,MAAb,CAAoBJ,KAApB,CAA2B,CAA3B,EACA,sCAAYJ,KAAZ,MAAmBF,MAAM,oBAAME,KAAK,CAACF,MAAZ,CAAzB,GACD,CACD,MAAOE,CAAAA,KAAP,CACD,CACD,IAAKN,CAAAA,iBAAL,CAAwB,CACtB,GAAMe,CAAAA,SAAS,CAAGR,MAAM,CAACE,OAAP,CAAeJ,OAAf,CAAuBW,GAAzC,CACA,sCACKV,KADL,MAEEF,MAAM,CAAEE,KAAK,CAACF,MAAN,CAAaa,GAAb,CAAiB,SAACZ,OAAD,QACvBA,CAAAA,OAAO,CAACW,GAAR,GAAgBD,SAAhB,EAA6BV,OAAO,CAACa,YAAR,CAAuBb,OAAO,CAACc,QAA5D,gCACSd,OADT,MACkBa,YAAY,CAAEb,OAAO,CAACa,YAAR,CAAuB,CADvD,GAEIb,OAHmB,EAAjB,CAFV,GAQD,CACD,IAAKJ,CAAAA,iBAAL,CAAwB,CACtB,GAAMc,CAAAA,UAAS,CAAGR,MAAM,CAACE,OAAP,CAAeJ,OAAf,CAAuBW,GAAzC,CACA,sCACKV,KADL,MAEEF,MAAM,CAAEE,KAAK,CAACF,MAAN,CAAaa,GAAb,CAAiB,SAACZ,OAAD,QACvBA,CAAAA,OAAO,CAACW,GAAR,GAAgBD,UAAhB,gCAESV,OAFT,MAGMa,YAAY,CAAEb,OAAO,CAACa,YAAR,CAAuB,CAH3C,GAKIb,OANmB,EAAjB,CAFV,GAWD,CACD,QACE,MAAOC,CAAAA,KAAP,CAzCJ,CA2CD","sourcesContent":["import {\n  CartState,\n  ProductActions,\n  ADD_PRODUCT,\n  INCREASE_QUANTITY,\n  DECREASE_QUANTITY,\n  EMPTY_CART,\n  REMOVE_PRODUCT,\n  ProductState,\n} from \"../../types\";\n\nconst initialState: CartState = {\n  inCart: [],\n};\n\nexport default function product(\n  state = initialState,\n  action: ProductActions\n): CartState {\n  switch (action.type) {\n    case ADD_PRODUCT: {\n      const { product } = action.payload;\n      return { ...state, inCart: [...state.inCart, product] };\n    }\n\n    case REMOVE_PRODUCT: {\n      const { product } = action.payload;\n      const index = state.inCart.findIndex((p) => p.name === product.name);\n      if (index >= 0) {\n        state.inCart.splice(index, 1);\n        return { ...state, inCart: [...state.inCart] };\n      }\n      return state;\n    }\n    case INCREASE_QUANTITY: {\n      const productId = action.payload.product._id;\n      return {\n        ...state,\n        inCart: state.inCart.map((product) =>\n          product._id === productId && product.amountInCart < product.quantity\n            ? { ...product, amountInCart: product.amountInCart + 1 }\n            : product\n        ),\n      };\n    }\n    case DECREASE_QUANTITY: {\n      const productId = action.payload.product._id;\n      return {\n        ...state,\n        inCart: state.inCart.map((product) =>\n          product._id === productId\n            ? {\n                ...product,\n                amountInCart: product.amountInCart - 1,\n              }\n            : product\n        ),\n      };\n    }\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}